<link rel="import" href="packages/gcanvas/elements/resident-view.html">
<link rel="import" href="packages/gcanvas/elements/response-view.html">
<link rel="import" href="packages/gcanvas/elements/question-script.html">
<polymer-element name="resident-test">
  <template>
    <div>
    <resident-view resident="{{resident}}"></resident-view>
    <resident-view resident="{{resident2}}"></resident-view>
    </div>
    <response-view on-response-selected="{{response}}" on-reason-selected="{{reason}}"></response-view>
    <question-script script="{{script}}" on-save="{{send}}" on-cancel="{{response}}"></question-script>
  </template>
  <script type="application/dart">
    import 'package:polymer/polymer.dart';
    import 'package:gcanvas/resident.dart';
    import 'package:gcanvas/gcanvas.dart';
    import 'dart:convert' show JSON;
    
    @CustomTag('resident-test')
    class ResidentTestElement extends PolymerElement {
      
      Resident resident = new Resident(0, "Jim", "Masters", null, null);
      Resident resident2 = new Resident(0, "Tina", "Masters", null, null);
      
      String script = '<select name="sel"><option>val1</option><option>val2</option></select><br><textarea name="area"></textarea><br><input type="radio" name="test" value="1"><input type="radio" name="test" value="2"><br><input type="text" name="text">';
      
      
      ResidentTestElement.created() : super.created();
      
      void response(var event, var detail) {
        print ("Detail is: $detail");
      }
      
      
      void send(var event, var detail) {
        print(detail);
      }
      
      
      void reason(var event, var detail) {
        print ("Reason is $detail");
      }
      
    }
  </script>
</polymer-element>
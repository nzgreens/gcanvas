<link rel="import"
      href="../../../packages/polymer_ui_elements/polymer_ui_card/polymer_ui_card.html">
<link rel="import"
      href="../bower_components/x-tag-imports/x-tag-flipbox.html">

<link rel="import" href="resident-view.html">
<link rel="import" href="response-view.html">
<link rel="import" href="question-script.html">
<polymer-element name="address-view">
  <template>
    <link rel="stylesheet" href="../bower_components/x-tag-flipbox/src/flipbox.css">
    <link rel="stylesheet" href="gcanvas-app-style.css">
    <x-flipbox id="address-flipbox">
      <polymer-ui-card>
        <div id="address1">{{address.address1}}</div>
        <div id="address2">{{address.address2}}</div>
        <div id="address3">{{address.address3}}</div>
        <div id="city">{{address.city}}</div>
        <div id="postcode">{{address.postcode}}</div>
        <div>
          <template repeat="{{resident in address.residents}}">
              <resident-view on-resident-selected="{{residentSelected}}" on-resident-deselected="{{residentDeselected}}" resident="{{resident}}"></resident-view>
          </template>
        </div>
        <button on-click="{{emitDone}}">Done</button>
        <button on-click="{{emitNextAddress}}">Next</button>
      </polymer-ui-card>
      <polymer-ui-card>
        <div>
          <response-view resident="{{selectedResident}}"
                          on-response-submit="{{submitResponse}}"
                          on-response-canceled="{{responseCanceled}}">
          </response-view>
        </div>
      </polymer-ui-card>
    </x-flipbox>
  </template>
  <script type="application/dart" src="address_view.dart"></script>
</polymer-element>